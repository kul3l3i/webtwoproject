<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HirayaFit - Premium Activewear</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #1a1a1a;
            --secondary: #ff4500;
            --light: #f8f9fa;
            --dark: #212529;
            --grey: #6c757d;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light);
        }
        
        .top-bar {
            background-color: var(--primary);
            color: white;
            padding: 10px 0;
            text-align: center;
            font-size: 14px;
        }
        
        .top-bar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .top-bar a {
            color: white;
            text-decoration: none;
            margin-left: 15px;
        }
        
        .header {
            background-color: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }
        
        .logo span {
            color: var(--secondary);
        }
        
        .search-bar {
            flex-grow: 1;
            max-width: 500px;
            margin: 0 30px;
            position: relative;
        }
        
        .search-bar input {
            width: 100%;
            padding: 10px 40px 10px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
        }
        
        .search-bar button {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
        }
        
        .nav-icons {
            display: flex;
            align-items: center;
        }
        
        .nav-icons a {
            margin-left: 20px;
            font-size: 20px;
            color: var(--primary);
            text-decoration: none;
            position: relative;
        }
        
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--secondary);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* Account dropdown styling */
        .account-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .account-dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background-color: white;
            min-width: 200px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            z-index: 1;
            border-radius: 4px;
            margin-top: 10px;
        }
        
        .account-dropdown-content:before {
            content: '';
            position: absolute;
            top: -8px;
            right: 10px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid white;
        }
        
        .account-dropdown-content a {
            color: var(--dark);
            padding: 12px 20px;
            text-decoration: none;
            display: block;
            font-size: 14px;
            font-weight: 500;
            margin: 0;
            border-bottom: 1px solid #f1f1f1;
        }
        
        .account-dropdown-content a:last-child {
            border-bottom: none;
        }
        
        .account-dropdown-content a:hover {
            background-color: #f8f9fa;
            color: var(--secondary);
        }
        
        .account-dropdown-content h3 {
            padding: 12px 20px;
            margin: 0;
            font-size: 16px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            border-radius: 4px 4px 0 0;
        }
        
        .account-dropdown.active .account-dropdown-content {
            display: block;
        }
        
        /* Updated Navigation Styles */
        .main-nav {
            display: flex;
            justify-content: center;
            background-color: var(--light);
            border-bottom: 1px solid #ddd;
        }
        
        .main-nav a {
            padding: 15px 20px;
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .main-nav a:hover, .main-nav a.active {
            color: var(--secondary);
        }
        
        /* Hover underline effect */
        .main-nav a:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: var(--secondary);
            left: 50%;
            bottom: 10px;
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }
        
        .main-nav a:hover:after, .main-nav a.active:after {
            width: 70%;
        }
        
        .hero {
            background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url("/api/placeholder/1600/500") no-repeat center center;
            background-size: cover;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            color: white;
            padding: 0 50px;
        }
        
        .hero-content {
            max-width: 500px;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background-color: var(--secondary);
            color: white;
            text-decoration: none;
            border-radius: 30px;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        .btn:hover {
            background-color: #e53e00;
        }
        
        /* Mobile menu button */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--primary);
            font-size: 24px;
            cursor: pointer;
        }
        
        /* Media queries for responsive design */
        @media (max-width: 992px) {
            .search-bar {
                max-width: 300px;
            }
        }
        
        @media (max-width: 768px) {
            .top-bar .container {
                flex-direction: column;
                gap: 5px;
            }
            
            .search-bar {
                max-width: none;
                margin: 10px 0;
            }
            
            .navbar {
                flex-wrap: wrap;
            }
            
            .menu-toggle {
                display: block;
                order: 1;
            }
            
            .logo {
                order: 2;
                margin: 0 auto;
            }
            
            .nav-icons {
                order: 3;
            }
            
            .search-bar {
                order: 4;
                width: 100%;
            }
            
            .main-nav {
                display: none;
                flex-direction: column;
                align-items: center;
            }
            
            .main-nav.active {
                display: flex;
            }
            
            .account-dropdown-content {
                position: fixed;
                top: 60px;
                right: 15px;
                width: calc(100% - 30px);
                max-width: 300px;
            }
        }

        /* Search Results Section */
.search-results-section {
    display: none;
    padding: 60px 0;
    background-color: #f9f9f9;
    margin-top: 40px;
    border-top: 1px solid #e0e0e0;
}

.search-results-section .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.search-results-section h2 {
    text-align: center;
    font-size: 28px;
    margin-bottom: 30px;
    color: #333;
    position: relative;
}

.search-results-section h2:after {
    content: "";
    display: block;
    width: 60px;
    height: 3px;
    background-color: #3498db;
    margin: 15px auto 0;
}

.no-results {
    text-align: center;
    font-size: 18px;
    color: #777;
    padding: 40px 0;
}

/* Results Grid */
.results-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 30px;
}

/* Product Card */
.product-card {
    background: white;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    flex-direction: column;
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

/* Product Image Container */
.product-image {
    position: relative;
    height: 220px;
    overflow: hidden;
}

.product-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.product-card:hover .product-image img {
    transform: scale(1.05);
}

/* Sale Badge */
.sale-badge {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: #e74c3c;
    color: white;
    padding: 5px 10px;
    font-size: 12px;
    font-weight: bold;
    border-radius: 4px;
    text-transform: uppercase;
}

/* Product Info */
.product-info {
    padding: 20px;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}

.product-info h3 {
    font-size: 18px;
    margin: 0 0 10px;
    color: #333;
    line-height: 1.4;
}

.product-info .price {
    font-weight: bold;
    font-size: 20px;
    color: #e74c3c;
    margin: 0 0 8px;
}

.product-info .category {
    color: #7f8c8d;
    font-size: 14px;
    margin: 0 0 15px;
}

/* Star Rating */
.product-rating {
    margin-bottom: 20px;
    display: flex;
    align-items: center;
}

.stars {
    color: #f39c12;
    margin-right: 5px;
}

.rating-text {
    color: #7f8c8d;
    font-size: 14px;
}

/* Add to Cart Button */
.add-to-cart {
    margin-top: auto;
    padding: 12px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s ease;
    text-transform: uppercase;
    font-size: 14px;
}

.add-to-cart:hover {
    background-color: #2980b9;
}

/* Responsive adjustments */
@media (max-width: 992px) {
    .results-grid {
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        gap: 20px;
    }
}

@media (max-width: 768px) {
    .results-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    }
    
    .product-image {
        height: 180px;
    }
}

@media (max-width: 480px) {
    .results-grid {
        grid-template-columns: 1fr;
    }
    
    .product-image {
        height: 200px;
    }
}
/* Featured Products Section */
#featured {
    padding: 80px 0;
    background-color: #fff;
}

.section-title {
    text-align: center;
    font-size: 32px;
    margin-bottom: 15px;
    color: #333;
    font-weight: 700;
    position: relative;
}

.section-description {
    text-align: center;
    color: #777;
    font-size: 18px;
    margin-bottom: 50px;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
}

.products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 30px;
    margin: 0 auto;
}

/* Product Card Styling */
.product-card {
    background: white;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    display: flex;
    flex-direction: column;
}

.product-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.product-image {
    position: relative;
    height: 250px;
    overflow: hidden;
}

.product-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.product-card:hover .product-image img {
    transform: scale(1.08);
}

/* Product Actions (Quick Icons) */
.product-actions {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    gap: 10px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.product-card:hover .product-actions {
    opacity: 1;
}

.product-actions button {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: white;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    transition: background-color 0.3s ease, transform 0.2s ease;
}

.product-actions button:hover {
    background-color: #3498db;
    transform: translateY(-3px);
}

.product-actions button:hover i {
    color: white;
}

.product-actions i {
    font-size: 16px;
    color: #333;
    transition: color 0.3s ease;
}

/* Sale Badge */
.sale-badge {
    position: absolute;
    top: 15px;
    right: 15px;
    background-color: #e74c3c;
    color: white;
    padding: 5px 12px;
    font-size: 13px;
    font-weight: bold;
    border-radius: 4px;
    text-transform: uppercase;
    z-index: 2;
}

/* Product Info */
.product-info {
    padding: 20px;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}

.product-info h3 {
    font-size: 18px;
    margin: 0 0 10px;
    color: #333;
    font-weight: 600;
    line-height: 1.4;
}

.product-info .price {
    font-weight: bold;
    font-size: 20px;
    color: #e74c3c;
    margin: 0 0 12px;
}

/* Star Rating */
.product-rating {
    margin-bottom: 18px;
    display: flex;
    align-items: center;
}

.stars {
    color: #f39c12;
    margin-right: 5px;
}

.rating-text {
    color: #7f8c8d;
    font-size: 14px;
}

/* Add to Cart Button */
.add-to-cart {
    margin-top: auto;
    padding: 12px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s ease;
    text-transform: uppercase;
    font-size: 14px;
    letter-spacing: 0.5px;
}

.add-to-cart:hover {
    background-color: #2980b9;
}

/* Quick View Modal */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.5);
}

.modal-content {
    background-color: #fefefe;
    margin: 50px auto;
    padding: 20px;
    border-radius: 10px;
    width: 90%;
    max-width: 1000px;
    position: relative;
    animation: modalFadeIn 0.3s;
}

@keyframes modalFadeIn {
    from {opacity: 0; transform: translateY(-20px);}
    to {opacity: 1; transform: translateY(0);}
}

.close-modal {
    color: #aaa;
    float: right;
    font-size: 32px;
    font-weight: bold;
    cursor: pointer;
    position: absolute;
    right: 20px;
    top: 10px;
    transition: color 0.3s;
}

.close-modal:hover {
    color: #333;
}

/* Quick View Layout */
.quick-view-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-top: 20px;
}

.quick-view-image {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f9f9f9;
    border-radius: 10px;
    overflow: hidden;
}

.quick-view-image img {
    max-width: 100%;
    max-height: 400px;
    object-fit: contain;
}

.quick-view-details h2 {
    font-size: 24px;
    margin: 0 0 15px;
    color: #333;
    font-weight: 600;
}

.quick-view-details .price {
    font-size: 26px;
    font-weight: bold;
    color: #e74c3c;
    margin-bottom: 15px;
}

.quick-view-details .description {
    color: #666;
    line-height: 1.6;
    margin-bottom: 20px;
}

/* Product Options */
.product-options {
    margin-bottom: 20px;
}

.size-options, .color-options {
    margin-bottom: 15px;
}

.product-options h4 {
    margin: 0 0 10px;
    font-size: 16px;
    color: #333;
}

.option-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.size-btn {
    padding: 8px 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background: white;
    cursor: pointer;
    transition: all 0.3s ease;
}

.size-btn:hover, .size-btn.selected {
    background-color: #3498db;
    color: white;
    border-color: #3498db;
}

.color-btn {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 1px solid #ddd;
    cursor: pointer;
    position: relative;
    transition: transform 0.2s ease;
    color: transparent;
    overflow: hidden;
    font-size: 0;
}

.color-btn:hover, .color-btn.selected {
    transform: scale(1.1);
    box-shadow: 0 0 0 2px #3498db;
}

/* Quantity Section */
.quantity-section {
    margin-bottom: 25px;
}

.quantity-control {
    display: flex;
    align-items: center;
}

.quantity-btn {
    width: 35px;
    height: 35px;
    border: 1px solid #ddd;
    background: white;
    font-size: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.quantity-btn.minus {
    border-radius: 5px 0 0 5px;
}

.quantity-btn.plus {
    border-radius: 0 5px 5px 0;
}

.quantity-btn:hover {
    background-color: #f4f4f4;
}

.quantity-input {
    width: 50px;
    height: 35px;
    border: 1px solid #ddd;
    border-left: none;
    border-right: none;
    text-align: center;
    font-size: 16px;
}

/* Remove arrows from number input */
.quantity-input::-webkit-outer-spin-button,
.quantity-input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.quantity-input[type=number] {
    -moz-appearance: textfield;
}

.add-to-cart-modal {
    padding: 15px 25px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    font-size: 16px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: background-color 0.3s ease;
    width: 100%;
}

.add-to-cart-modal:hover {
    background-color: #2980b9;
}

/* Responsive Adjustments */
@media (max-width: 992px) {
    .products-grid {
        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    }
}

@media (max-width: 768px) {
    #featured {
        padding: 50px 0;
    }
    
    .section-title {
        font-size: 28px;
    }
    
    .section-description {
        font-size: 16px;
        margin-bottom: 30px;
    }
    
    .products-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
    }
    
    .product-image {
        height: 200px;
    }
    
    .quick-view-grid {
        grid-template-columns: 1fr;
    }
    
    .quick-view-image {
        margin-bottom: 20px;
    }
}

@media (max-width: 480px) {
    .products-grid {
        grid-template-columns: 1fr;
    }
}
    </style>
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container">
            <div>30 DAYS EASY RETURN</div>
            <div>
                <a href="#">Help</a>
                <a href="#">Order Tracker</a>
                <a href="#">Become a Member</a>
            </div>
        </div>
    </div>
    
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="navbar">
                <a href="#" class="logo">Hiraya<span>Fit</span></a>
                
                <div class="search-bar">
                    <input type="text" id="searchInput" placeholder="Search products...">
                    <button onclick="searchProducts()">Search</button>
                </div>
                
                <div class="nav-icons">
                    <div class="account-dropdown" id="accountDropdown">
                        <a href="#" id="accountBtn"><i class="fas fa-user"></i></a>
                        <div class="account-dropdown-content">
                            <h3>My Account</h3>
                            <a href="sign-in.html"><i class="fas fa-sign-in-alt"></i> Sign In</a>
                            <a href="sign-up.html"><i class="fas fa-user-plus"></i> Sign Up</a>
                            <a href="#orders"><i class="fas fa-box"></i> Track Orders</a>
                            <a href="#wishlist"><i class="fas fa-heart"></i> My Wishlist</a>
                        </div>
                    </div>
                    <a href="#"><i class="fas fa-heart"></i></a>
                    <a href="#" id="cartBtn">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="cartCount">0</span>
                    </a>
                </div>
                
                <button class="menu-toggle" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>
    
    <!-- Simplified Navigation -->
    <nav class="main-nav" id="mainNav">
        <a href="#" class="active">HOME</a>
        <a href="shop.html">SHOP</a>
        <a href="men.html">MEN</a>
        <a href="women.html">WOMEN</a>
        <a href="foot.html">FOOTWEAR</a>
        <a href="acces.html">ACCESSORIES</a>
        <a href="#about">ABOUT</a>
        <a href="#contact">CONTACT</a>
    </nav>
    
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>PERFORMANCE MEETS STYLE</h1>
            <p>Discover the latest collection of activewear designed for maximum comfort and performance.</p>
            <a href="#featured" class="btn">SHOP NOW</a>
        </div>
    </section>

    <!-- Featured Products Section -->
<section id="featured">
    <!-- This will be populated by JavaScript -->
</section>
    
 <script>
    // Load and parse XML data
let productData;
let products = [];

// Function to load the XML data
function loadProductData() {
    const xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            productData = this.responseXML;
            parseProductData();
        }
    };
    xhr.open("GET", "product.xml", true);
    xhr.send();
}

// Parse XML into a more usable format
function parseProductData() {
    if (!productData) return;
    
    const productElements = productData.getElementsByTagName("product");
    products = [];
    
    for (let i = 0; i < productElements.length; i++) {
        const product = productElements[i];
        const productObj = {
            id: getElementTextContent(product, "id"),
            name: getElementTextContent(product, "name"),
            category: getElementTextContent(product, "category"),
            price: getElementTextContent(product, "price"),
            description: getElementTextContent(product, "description"),
            image: getElementTextContent(product, "image"),
            stock: getElementTextContent(product, "stock"),
            rating: getElementTextContent(product, "rating"),
            featured: getElementTextContent(product, "featured"),
            on_sale: getElementTextContent(product, "on_sale")
        };
        
        // Get sizes
        const sizeElements = product.getElementsByTagName("size");
        productObj.sizes = [];
        for (let j = 0; j < sizeElements.length; j++) {
            productObj.sizes.push(sizeElements[j].textContent);
        }
        
        // Get colors
        const colorElements = product.getElementsByTagName("color");
        productObj.colors = [];
        for (let j = 0; j < colorElements.length; j++) {
            productObj.colors.push(colorElements[j].textContent);
        }
        
        products.push(productObj);
    }
    
    console.log("Products loaded:", products.length);
}

// Helper function to get text content of an element
function getElementTextContent(parent, tagName) {
    const elements = parent.getElementsByTagName(tagName);
    if (elements.length > 0) {
        return elements[0].textContent;
    }
    return "";
}

// Search function that looks through the products array
function searchProducts() {
    const searchInput = document.getElementById('searchInput').value.toLowerCase();
    if (!searchInput.trim()) {
        displaySearchResults([]);
        return;
    }
    
    const results = products.filter(product => {
        // Search in various fields
        return (
            product.name.toLowerCase().includes(searchInput) ||
            product.category.toLowerCase().includes(searchInput) ||
            product.description.toLowerCase().includes(searchInput) ||
            product.colors.some(color => color.toLowerCase().includes(searchInput))
        );
    });
    
    displaySearchResults(results);
    
    // Scroll to search results
    const resultsSection = document.getElementById('searchResults');
    if (resultsSection) {
        resultsSection.scrollIntoView({ behavior: 'smooth' });
    }
}

// Display search results
function displaySearchResults(results) {
    let resultsContainer = document.getElementById('searchResults');
    
    // If results container doesn't exist, create it at the bottom of the page
    if (!resultsContainer) {
        // Create results container
        resultsContainer = document.createElement('section');
        resultsContainer.id = 'searchResults';
        resultsContainer.className = 'search-results-section';
        
        // Add container to the bottom of the page, before the footer if it exists
        const footer = document.querySelector('footer');
        if (footer) {
            document.body.insertBefore(resultsContainer, footer);
        } else {
            document.body.appendChild(resultsContainer);
        }
    }
    
    // Clear previous results
    resultsContainer.innerHTML = '';
    
    // Create container for results content
    const resultsContent = document.createElement('div');
    resultsContent.className = 'container';
    resultsContainer.appendChild(resultsContent);
    
    // Add results heading
    const heading = document.createElement('h2');
    heading.textContent = 'Search Results';
    resultsContent.appendChild(heading);
    
    // If no results found
    if (results.length === 0) {
        const noResults = document.createElement('p');
        noResults.className = 'no-results';
        noResults.textContent = 'No products found.';
        resultsContent.appendChild(noResults);
        resultsContainer.style.display = 'block';
        return;
    }
    
    // Create results grid
    const resultsGrid = document.createElement('div');
    resultsGrid.className = 'results-grid';
    resultsContent.appendChild(resultsGrid);
    
    // Add each product to the grid
    results.forEach(product => {
        const productCard = document.createElement('div');
        productCard.className = 'product-card';
        
        // Format price with commas for thousands
        const formattedPrice = parseFloat(product.price).toLocaleString();
        
        productCard.innerHTML = `
            <div class="product-image">
                <img src="${product.image}" alt="${product.name}" onerror="this.src='images/placeholder.jpg'">
                ${product.on_sale === 'true' ? '<span class="sale-badge">Sale</span>' : ''}
            </div>
            <div class="product-info">
                <h3>${product.name}</h3>
                <p class="price">₱${formattedPrice}</p>
                <p class="category">${product.category}</p>
                <div class="product-rating">
                    <span class="stars">${generateStars(parseFloat(product.rating))}</span>
                    <span class="rating-text">(${product.rating})</span>
                </div>
                <button class="add-to-cart" data-id="${product.id}">Add to Cart</button>
            </div>
        `;
        resultsGrid.appendChild(productCard);
    });
    
    resultsContainer.style.display = 'block';
    
    // Add event listeners to the "Add to Cart" buttons
    const addToCartButtons = document.querySelectorAll('.add-to-cart');
    addToCartButtons.forEach(button => {
        button.addEventListener('click', function() {
            const productId = this.getAttribute('data-id');
            addToCart(productId);
        });
    });
}

// Generate star rating HTML
function generateStars(rating) {
    const fullStars = Math.floor(rating);
    const halfStar = rating % 1 >= 0.5;
    const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
    
    let starsHTML = '';
    
    // Full stars
    for (let i = 0; i < fullStars; i++) {
        starsHTML += '<i class="fas fa-star"></i>';
    }
    
    // Half star if needed
    if (halfStar) {
        starsHTML += '<i class="fas fa-star-half-alt"></i>';
    }
    
    // Empty stars
    for (let i = 0; i < emptyStars; i++) {
        starsHTML += '<i class="far fa-star"></i>';
    }
    
    return starsHTML;
}

// Function to add a product to the cart
function addToCart(productId) {
    // Find the product in our data
    const product = products.find(p => p.id === productId);
    if (!product) return;
    
    // Get current cart from local storage or initialize empty cart
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    
    // Check if product already in cart
    const existingItem = cart.find(item => item.id === productId);
    
    if (existingItem) {
        existingItem.quantity++;
    } else {
        cart.push({
            id: productId,
            name: product.name,
            price: parseFloat(product.price),
            image: product.image,
            quantity: 1
        });
    }
    
    // Save updated cart to local storage
    localStorage.setItem('cart', JSON.stringify(cart));
    
    // Update cart count in the UI
    updateCartCount();
    
    // Show confirmation message
    alert(`${product.name} added to your cart!`);
}

// Update the cart count in the UI
function updateCartCount() {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const count = cart.reduce((total, item) => total + item.quantity, 0);
    document.getElementById('cartCount').textContent = count;
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    loadProductData();
    updateCartCount();
    
    // Add event listener for search button
    document.querySelector('.search-bar button').addEventListener('click', searchProducts);
    
    // Add event listener for Enter key in search input
    document.getElementById('searchInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            searchProducts();
        }
    });
});

// Function to load featured products
function loadFeaturedProducts() {
    // Check if products are already loaded
    if (products.length === 0) {
        // If not, set a small timeout to wait for products to load
        setTimeout(loadFeaturedProducts, 500);
        return;
    }
    
    // Filter for featured products
    const featuredProducts = products.filter(product => product.featured === 'true');
    
    // Display featured products
    displayFeaturedProducts(featuredProducts);
}

// Function to display featured products
function displayFeaturedProducts(featuredProducts) {
    const featuredSection = document.getElementById('featured');
    
    if (!featuredSection) {
        console.error("Featured section not found in the DOM");
        return;
    }
    
    // Create container for featured products
    const container = document.createElement('div');
    container.className = 'container';
    
    // Add section heading
    const heading = document.createElement('h2');
    heading.className = 'section-title';
    heading.textContent = 'Featured Products';
    container.appendChild(heading);
    
    // Add section description
    const description = document.createElement('p');
    description.className = 'section-description';
    description.textContent = 'Discover our top picks for your fitness journey';
    container.appendChild(description);
    
    // Create products grid
    const productsGrid = document.createElement('div');
    productsGrid.className = 'products-grid';
    
    // Add featured products
    featuredProducts.forEach(product => {
        // Format price with commas for thousands
        const formattedPrice = parseFloat(product.price).toLocaleString();
        
        const productCard = document.createElement('div');
        productCard.className = 'product-card';
        productCard.innerHTML = `
            <div class="product-image">
                <img src="${product.image}" alt="${product.name}" onerror="this.src='images/placeholder.jpg'">
                ${product.on_sale === 'true' ? '<span class="sale-badge">Sale</span>' : ''}
                <div class="product-actions">
                    <button class="quick-view" data-id="${product.id}">
                        <i class="fas fa-eye"></i>
                    </button>
                    <button class="add-to-wishlist" data-id="${product.id}">
                        <i class="far fa-heart"></i>
                    </button>
                    <button class="add-to-cart-icon" data-id="${product.id}">
                        <i class="fas fa-shopping-cart"></i>
                    </button>
                </div>
            </div>
            <div class="product-info">
                <h3>${product.name}</h3>
                <p class="price">₱${formattedPrice}</p>
                <div class="product-rating">
                    <span class="stars">${generateStars(parseFloat(product.rating))}</span>
                    <span class="rating-text">(${product.rating})</span>
                </div>
                <button class="add-to-cart" data-id="${product.id}">Add to Cart</button>
            </div>
        `;
        
        productsGrid.appendChild(productCard);
    });
    
    container.appendChild(productsGrid);
    featuredSection.appendChild(container);
    
    // Add event listeners to buttons
    addFeaturedProductsEventListeners();
}

// Add event listeners to featured products buttons
function addFeaturedProductsEventListeners() {
    // Add to cart buttons
    const addToCartButtons = document.querySelectorAll('#featured .add-to-cart, #featured .add-to-cart-icon');
    addToCartButtons.forEach(button => {
        button.addEventListener('click', function() {
            const productId = this.getAttribute('data-id');
            addToCart(productId);
        });
    });
    
    // Quick view buttons
    const quickViewButtons = document.querySelectorAll('#featured .quick-view');
    quickViewButtons.forEach(button => {
        button.addEventListener('click', function() {
            const productId = this.getAttribute('data-id');
            showQuickView(productId);
        });
    });
    
    // Add to wishlist buttons
    const wishlistButtons = document.querySelectorAll('#featured .add-to-wishlist');
    wishlistButtons.forEach(button => {
        button.addEventListener('click', function() {
            const productId = this.getAttribute('data-id');
            addToWishlist(productId);
        });
    });
}

// Function to show quick view modal
function showQuickView(productId) {
    const product = products.find(p => p.id === productId);
    if (!product) return;
    
    // Create modal if it doesn't exist
    let modal = document.getElementById('quickViewModal');
    if (!modal) {
        modal = document.createElement('div');
        modal.id = 'quickViewModal';
        modal.className = 'modal';
        modal.innerHTML = `
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <div class="quick-view-container"></div>
            </div>
        `;
        document.body.appendChild(modal);
        
        // Add event listener to close button
        const closeBtn = modal.querySelector('.close-modal');
        closeBtn.addEventListener('click', () => {
            modal.style.display = 'none';
        });
        
        // Close modal when clicking outside
        window.addEventListener('click', (event) => {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        });
    }
    
    // Format price with commas for thousands
    const formattedPrice = parseFloat(product.price).toLocaleString();
    
    // Populate modal with product info
    const container = modal.querySelector('.quick-view-container');
    container.innerHTML = `
        <div class="quick-view-grid">
            <div class="quick-view-image">
                <img src="${product.image}" alt="${product.name}" onerror="this.src='images/placeholder.jpg'">
            </div>
            <div class="quick-view-details">
                <h2>${product.name}</h2>
                <p class="price">₱${formattedPrice}</p>
                <div class="product-rating">
                    <span class="stars">${generateStars(parseFloat(product.rating))}</span>
                    <span class="rating-text">(${product.rating} - ${product.review_count} reviews)</span>
                </div>
                <p class="description">${product.description}</p>
                
                <div class="product-options">
                    <div class="size-options">
                        <h4>Size:</h4>
                        <div class="option-buttons">
                            ${product.sizes.map(size => `<button class="size-btn">${size}</button>`).join('')}
                        </div>
                    </div>
                    
                    <div class="color-options">
                        <h4>Color:</h4>
                        <div class="option-buttons">
                            ${product.colors.map(color => `<button class="color-btn" style="background-color: ${color.toLowerCase()}">${color}</button>`).join('')}
                        </div>
                    </div>
                </div>
                
                <div class="quantity-section">
                    <h4>Quantity:</h4>
                    <div class="quantity-control">
                        <button class="quantity-btn minus">−</button>
                        <input type="number" class="quantity-input" value="1" min="1" max="${product.stock}">
                        <button class="quantity-btn plus">+</button>
                    </div>
                </div>
                
                <button class="add-to-cart-modal" data-id="${product.id}">Add to Cart</button>
            </div>
        </div>
    `;
    
    // Show modal
    modal.style.display = 'block';
    
    // Add event listeners for quantity buttons
    const minusBtn = container.querySelector('.minus');
    const plusBtn = container.querySelector('.plus');
    const quantityInput = container.querySelector('.quantity-input');
    
    minusBtn.addEventListener('click', () => {
        if (parseInt(quantityInput.value) > 1) {
            quantityInput.value = parseInt(quantityInput.value) - 1;
        }
    });
    
    plusBtn.addEventListener('click', () => {
        if (parseInt(quantityInput.value) < parseInt(product.stock)) {
            quantityInput.value = parseInt(quantityInput.value) + 1;
        }
    });
    
    // Add event listener for Add to Cart button in modal
    const addToCartBtn = container.querySelector('.add-to-cart-modal');
    addToCartBtn.addEventListener('click', () => {
        const quantity = parseInt(quantityInput.value);
        addToCartWithQuantity(product.id, quantity);
        modal.style.display = 'none';
    });
}

// Function to add to cart with specified quantity
function addToCartWithQuantity(productId, quantity) {
    const product = products.find(p => p.id === productId);
    if (!product) return;
    
    // Get current cart from local storage or initialize empty cart
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    
    // Check if product already in cart
    const existingItem = cart.find(item => item.id === productId);
    
    if (existingItem) {
        existingItem.quantity += quantity;
    } else {
        cart.push({
            id: productId,
            name: product.name,
            price: parseFloat(product.price),
            image: product.image,
            quantity: quantity
        });
    }
    
    // Save updated cart to local storage
    localStorage.setItem('cart', JSON.stringify(cart));
    
    // Update cart count in the UI
    updateCartCount();
    
    // Show confirmation message
    alert(`${quantity} ${product.name}${quantity > 1 ? 's' : ''} added to your cart!`);
}

// Function to add to wishlist
function addToWishlist(productId) {
    const product = products.find(p => p.id === productId);
    if (!product) return;
    
    // Get current wishlist from local storage or initialize empty wishlist
    let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
    
    // Check if product already in wishlist
    const existingItem = wishlist.find(item => item.id === productId);
    
    if (!existingItem) {
        wishlist.push({
            id: productId,
            name: product.name,
            price: parseFloat(product.price),
            image: product.image
        });
        
        // Save updated wishlist to local storage
        localStorage.setItem('wishlist', JSON.stringify(wishlist));
        
        // Show confirmation message
        alert(`${product.name} added to your wishlist!`);
    } else {
        alert(`${product.name} is already in your wishlist!`);
    }
    
    // Update wishlist count if you have one
    // updateWishlistCount();
}

// Update initialization to include featured products
document.addEventListener('DOMContentLoaded', function() {
    loadProductData();
    updateCartCount();
    
    // Add event listener for search button
    document.querySelector('.search-bar button').addEventListener('click', searchProducts);
    
    // Add event listener for Enter key in search input
    document.getElementById('searchInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            searchProducts();
        }
    });
    
    // Load featured products after a slight delay to ensure XML is loaded
    setTimeout(loadFeaturedProducts, 500);
});
 </script>

  
</body>
</html>